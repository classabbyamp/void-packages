# Template file for 'libresprite'
pkgname=libresprite
version=1.1+1
revision=1
_commit=c99d3666b17ff731824e3eccc79cf3ec48564ad5
_simpleini_ver=c94997d4d64394833e4b9d21f4573c66600c9a9a
_duk_ver=6f715553e706b61e611aa4ae8e6fe90626800dae
_clip_ver=94693e2414a2c69a8ca16f065240c80a94cc6221
_flic_ver=876ef60df5fec606f8eb0638ee893e4967db4673
_obser_ver=8e03c3cb060120b25517503e6c1d9072686d1cd3
_undo_ver=f39b188e29d0f9adaa49c8705c0f492939d967a9
build_style=cmake
build_helper="qmake"
configure_args="-DWITH_WEBP_SUPPORT=ON -DWITH_QT_THUMBNAILER=ON
 -DWITH_DESKTOP_INTEGRATION=ON"
hostmakedepends="pkg-config extra-cmake-modules qt5-qmake"
makedepends="zlib-devel libarchive-devel libpng-devel freetype-devel
 giflib-devel libjpeg-turbo-devel libcurl-devel SDL2-devel SDL2_image-devel
 duktape-devel pixman-devel tinyxml2-devel kio-devel"
short_desc="Animated sprite editor & pixel art tool"
maintainer="classabbyamp <void@placeviolette.net>"
license="GPL-2.0-only"
homepage="https://libresprite.github.io"
distfiles="https://github.com/LibreSprite/LibreSprite/archive/${_commit}.tar.gz
 https://github.com/aseprite/simpleini/archive/${_simpleini_ver}.tar.gz>simpleini-${_simpleini_ver}.tar.gz
 https://github.com/LibreSprite/duktape/archive/${_duk_ver}.tar.gz>duktape-${_duk_ver}.tar.gz
 https://github.com/aseprite/clip/archive/${_clip_ver}.tar.gz>clip-${_clip_ver}.tar.gz
 https://github.com/aseprite/flic/archive/${_flic_ver}.tar.gz>flic-${_flic_ver}.tar.gz
 https://github.com/dacap/observable/archive/${_obser_ver}.tar.gz>observable-${_obser_ver}.tar.gz
 https://github.com/aseprite/undo/archive/${_undo_ver}.tar.gz>undo-${_undo_ver}.tar.gz"
checksum="b8cf9802310829851e95a818dffa849e06624ef74d266c52fa8e2f68bd38a6ae
 46ae433ddd4fcec9cf8da3f689a901af8a45e3d06327b82934a2821f945a59ba
 711a5cb7e3d663d7673d635a11a3b38fe67cf63b1c9f7eb406ebd107a25b7004
 5191f76ddd7baa87d1f500acd470019aaf9aedf075dcf0d614de1307a1f15701
 e66ab8d28c630a80a2be2baf260f87481ca7b0d35101e74b3ef131f47989d1a9
 e56c7cb929d237db37a16e48de86dbd6c240cfaa392904d7d95cf4ccb18cdeb2
 8881e3d4c7d9d29c91640649ad8d292be5646fa3fd26be6b49bba1d00e38acba"

skip_extraction="simpleini-${_simpleini_ver}.tar.gz
 duktape-${_duk_ver}.tar.gz
 clip-${_clip_ver}.tar.gz
 flic-${_flic_ver}.tar.gz
 observable-${_obser_ver}.tar.gz
 undo-${_undo_ver}.tar.gz"

post_extract() {
	vsrcextract -C third_party/simpleini "simpleini-${_simpleini_ver}.tar.gz"
	vsrcextract -C third_party/duktape "duktape-${_duk_ver}.tar.gz"
	vsrcextract -C src/clip "clip-${_clip_ver}.tar.gz"
	vsrcextract -C src/flic "flic-${_flic_ver}.tar.gz"
	vsrcextract -C src/observable "observable-${_obser_ver}.tar.gz"
	vsrcextract -C src/undo "undo-${_undo_ver}.tar.gz"
}
